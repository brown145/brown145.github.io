!function(a,b,c,d){"use strict";var e=a.module("rrApp",["ng","ngLocale","ngCookies","ngAnimate","sbTemplates","pascalprecht.translate","angular-inview"]);b.richrelevanceSearchUI={config:function(b,d,f){if(e.config(["rrConfigProvider","$compileProvider","$translateProvider",function(a,c,e){var f=a.setConfig(b,d);c.debugInfoEnabled(!1),e.preferredLanguage(f.displayLang),e.fallbackLanguage("en")}]),!a.isUndefined(f)){var g=a.element(f);e.run(["$templateCache",function(a){g.html(a.get("templates/root.html"))}]),a.element(c).ready(function(){a.bootstrap(g,["rrApp"],{strictDi:!0})})}}},e.provider("rrConfig",function(){var b={lang:"en",displayLang:"en",scope:"default",defaultCurrency:"USD",currencySymbol:1,pageRows:20,disableTracking:!1,cookieUserId:"__rr_user_id",cookieSessionId:"__rr_session_id",defaultImage:"https://placehold.it/200x200"},c=a.extend({},b);this.setConfig=function(d,e){return c=a.extend({},b,e,{url:d})},this.$get=function(){return c}}),e.controller("RichRelevanceSearchController",["$scope","$rootScope","$location","$log","rrSearchService","rrTrackService","rrConfig","$timeout","$window",function(b,c,e,f,g,h,i,j,k){b.query="",b.selectedFilters=[],b.totalResults=-1,b.availableFacets=[],b.availableFilters=[],b.spellchecked=null,b.suggestions=[],b.results=[],b.topTrends=[],b.banners=[],b.promoteds=[],b.direct=null,b.topClicked=[],b.priceStats={},b.newSearch=function(){return b.query?void g.newSearch({query:b.query,filters:b.selectedFilters,commonObject:R3_COMMON||{},rcs:RR.c("rr_rcs")}):void g.clear()},b.loadMore=function(){g.nextPage()},b.$watchCollection(g.data,function(a){f.info("Search data updated:",a),b.totalResults=a.totalResults,b.availableFacets=a.availableFacets,b.spellchecked=a.spellchecked,b.suggestions=a.suggestions,b.results=a.results,b.topTrends=a.topTrends,b.topClicked=a.topClicked,b.priceStats=a.priceStats,j(function(){b.$broadcast("orderResults"),b.$broadcast("orderSuggestions"),b.isNewSearch&&b.$broadcast("scrollToTop")},50)}),b.$watch(g.isLoading,function(a){b.$broadcast("rrLoading",a)}),b.$watchCollection("selectedFilters",function(a,c){a!==c&&(e.search("filters",a),b.query&&b.newSearch())}),b.$watch("query",function(a,c){a!==c&&(e.search("q",b.query||d),b.selectedFilters=[],b.newSearch())}),b.$on("rrResultClicked",function(a,b){var c={};a.stopPropagation(),R3_COMMON.userId&&(c.u=R3_COMMON.userId),c.lang=i.lang,c.title=b.name,c.url=b.url,h.trackClick(b.id,b._query,b._page,R3_COMMON.sessionId,c)}),b.$on("$locationChangeSuccess",function(){var c=e.search();b.query=c.q||"",b.selectedFilters=a.isArray(c.filters)?c.filters:a.isString(c.filters)?[c.filters]:[]}),a.element(k).off("orientationchange resize").on("orientationchange resize",function(){b.$broadcast("orderResults"),b.$broadcast("orderSuggestions"),b.$broadcast("orderPromoteds")})}]),e.directive("rrBannerItem",["rrConfig",function(b){var c=function(c){var d=a.element(c.srcElement);d.attr("src",b.defaultImage)};return{restrict:"E",scope:{banner:"="},link:function(a,b){b.find("img").one("error",c)},templateUrl:"templates/bannerItem.html"}}]),e.directive("rrBanners",[function(){return{restrict:"E",scope:{banners:"="},templateUrl:"templates/banners.html"}}]),e.directive("rrCategoryFacets",[function(){return{restrict:"E",scope:{facet:"="},templateUrl:"templates/categoryFacet.html",controller:["$scope",function(a){a.addFilter=function(b){a.$parent.addFilter(b)},a.addDelFilter=function(b,c){a.$parent.addDelFilter(b,c)},a.removeFilter=function(b){a.$parent.removeFilter(b)}}]}}]),e.directive("rrFacet",[function(){return{restrict:"E",scope:{facet:"=",selectedFilters:"="},controller:["$scope",function(a){a.addFilter=function(b){a.$parent.addFilter(b)},a.addDelFilter=function(b,c){a.$parent.addDelFilter(b,c)},a.removeFilter=function(b){a.$parent.removeFilter(b)},a.standard_facet=function(b){return!a.order_facet(b)},a.order_facet=function(a){return 0===a.filter.indexOf("sort:")},a.range_facet=function(a){return-1!==a.indexOf("_range")}}],templateUrl:"templates/facet.html"}}]),e.directive("rrFacets",[function(){return{restrict:"E",templateUrl:"templates/facets.html",scope:{availableFacets:"=",selectedFilters:"="},controller:["$scope",function(b){b.showFacets=function(){a.element("#rr-facets").toggle()},b.addDelFilter=function(a,c){var d=a.filter.substring(a.filter.indexOf("}")+1),e=d.substring(0,d.indexOf(":"));if(b.removeFilterByFacet(e),c)if(a.selected){var f=a.filter.substring(0,a.filter.lastIndexOf("/"));""!==f&&b.addFilter(f)}else b.addFilter(a.filter);else a.selected?b.removeFilter(a.filter):b.addFilter(a.filter)},b.removeFilterByFacet=function(c){a.forEach(b.selectedFilters,function(a,d){-1!==a.indexOf(c)&&b.selectedFilters.splice(d,1)})},b.filterValue=function(a){var b=a.substring(0,a.lastIndexOf(":")),c=a.substring(a.lastIndexOf(":")+1);return-1!==b.indexOf("RANGE_price")&&(c=c.replace("[","").replace("]","").replace(" TO "," - ")),c},b.showFacet=function(b,c){var d=a.element(b.currentTarget);d.hasClass("closed")?(a.element(".rr-facets-all .rr-header-facet").removeClass("opened").addClass("closed"),a.element(".rr-facets-all .rr-facet").hide(),d.removeClass("closed").addClass("opened"),a.element("#rr-facet-"+c).show()):(d.removeClass("opened").addClass("closed"),a.element("#rr-facet-"+c).hide())},b.addFilter=function(a){-1===b.selectedFilters.indexOf(a)&&b.selectedFilters.push(a)},b.removeFilter=function(a){var c=b.selectedFilters.indexOf(a);c>-1&&b.selectedFilters.splice(c,1)}}]}}]),e.directive("infiniteScroll",["rrMotionService",function(a){return function(b,c){var d=c[0];c.bind("scroll",function(){var c=1.5*a.getArticleDimensions().height;d.scrollTop+d.offsetHeight>=d.scrollHeight-c&&(b.isLoading||b.loadMore())})}}]),e.directive("rrNoResults",[function(){return{restrict:"E",scope:{query:"="},templateUrl:"templates/noResults.html"}}]),e.directive("rrPriceFacet",[function(){return{restrict:"E",scope:{priceStats:"="},controller:["$scope","$timeout",function(a,b){a.cleanPrice=function(){a.$parent.removeFilterByFacet("priceRange")},a.search_price_min=d,a.search_price_max=d,a.$watch("priceStats",function(){a.initSlider()}),a.initSlider=function(){(a.search_price_min||a.search_price_max)===d?(a.price_min_range=a.price_min=a.priceStats.min,a.price_max_range=a.price_max=a.priceStats.max):(a.price_min=Math.max(a.search_price_min||0,a.priceStats.min),a.price_max=Math.min(a.search_price_max||1e7,a.priceStats.max),a.price_min_range=a.priceStats.min,a.price_max_range=a.priceStats.max),a.timerMin=d,a.timerMax=d,a.$watch("price_min",function(){b.cancel(a.timerMin),b.cancel(a.timerMax),a.timerMin=b(function(){a.price_min!==a.search_price_min&&(a.search_price_min=a.price_min,a.search_price_max=a.price_max,a.$parent.addPriceFilter(a.search_price_min,a.search_price_max))},500)}),a.$watch("price_max",function(){b.cancel(a.timerMin),b.cancel(a.timerMax),a.timerMax=b(function(){a.price_max!==a.search_price_max&&(a.search_price_min=a.price_min,a.search_price_max=a.price_max,a.$parent.addPriceFilter(a.search_price_min,a.search_price_max))},500)})}}],templateUrl:"templates/priceFacet.html"}}]),e.directive("rrPromotedItem",["rrConfig","rrMotionService",function(b,c){var d=function(c){var d=a.element(c.srcElement);d.attr("src",b.defaultImage)};return{restrict:"E",scope:{promoted:"="},link:function(a,b){b.find("img").one("error",d),b.css({transform:c.getTranslate("#rr-promoteds",a.position)}),b.css({opacity:1})},templateUrl:"templates/promotedItem.html"}}]),e.directive("rrPromoteds",[function(){return{restrict:"E",scope:{promoteds:"="},templateUrl:"templates/promoteds.html"}}]),e.directive("rrResult",["$log","rrConfig","rrMotionService",function(b,c,d){var e=function(b){var d=a.element(b.srcElement);d.attr("src",c.defaultImage)};return{restrict:"E",templateUrl:"templates/result.html",scope:{result:"=rrResult",position:"=rrPosition"},controller:["$scope",function(a){a.resultClicked=function(b){b.preventDefault(),a.$emit("rrResultClicked",a.result)}}],link:function(a,b){b.find("img").one("error",e),b.css({transform:d.getTranslate("#rr-articles",a.position)}),b.css({opacity:1})}}}]),e.directive("rrResults",["rrMotionService",function(b){return{restrict:"E",templateUrl:"templates/results.html",scope:{results:"=",totalResults:"=",suggestions:"=",spellchecked:"=",loadMore:"&",availableFacets:"=",selectedFilters:"=",topTrends:"=",banners:"=",promoteds:"=",priceStats:"=",query:"="},controller:["$scope",function(c){c.isLoading=!1,c.$on("rrLoading",function(a,b){c.isLoading=b}),c.showBanners=function(){return c.banners.length>0},c.showPromoteds=function(){return c.promoteds.length>0},c.showSuggestions=function(){return!c.showBanners()&&!c.showPromoteds()&&c.suggestions.length>0},c.showSpellcheck=function(){return null!==c.spellchecked},c.showResults=function(){return c.results.length>0},c.showNoResults=function(){return!c.showBanners()&&!c.showPromoteds()&&!c.showResults()&&0===c.totalResults&&0===c.suggestions.length},c.$on("scrollToTop",function(){a.element("#rr-results").scrollTop(0)}),c.$on("orderResults",function(){for(var c=a.element("#rr-articles").find(".rr-article"),d=0;d<c.length;d++){var e=a.element(c[d]);e.css({transform:b.getTranslate("#rr-articles",e.attr("position"))})}a.element("#rr-articles").css({height:b.getListHeight("#rr-articles",c.length)})}),c.$on("orderSuggestions",function(){for(var c=a.element(".rr-suggestion-list"),d=0;d<c.length;d++){var e=a.element(c[d]),f=e.find(".rr-article");e.css({height:b.getListHeight("#rr-suggestions",f.length)});for(var g=0;g<f.length;g++){var h=a.element(f[g]);h.css({transform:b.getTranslate("#rr-suggestions",g)})}}})}]}}]),e.directive("rrScrollButtom",[function(){return{restrict:"E",templateUrl:"templates/scrollButtom.html"}}]),e.directive("rrSearchbox",["$translate","$interval","rrConfig",function(a,b,c){return{restrict:"E",templateUrl:"templates/searchbox.html",scope:{query:"="},controller:["$scope",function(d){d.isLoading=!1,d.inputPlaceholder="",d.inputOptions={updateOn:"default search",debounce:{"default":c.inputDebounce||500,search:0}},a("SEARCHBOX_PLACEHOLDER").then(function(a){b(function(){d.inputPlaceholder=a.substring(0,d.inputPlaceholder.length+1)},100,a.length)}),d.$on("rrLoading",function(a,b){d.isLoading=b})}]}}]),e.directive("rrSpellcheck",[function(){return{restrict:"E",scope:{spellchecked:"=",query:"="},templateUrl:"templates/spellcheck.html"}}]),e.directive("rrSuggestions",[function(){return{restrict:"E",scope:{suggestions:"=",query:"="},controller:["$scope",function(a){a.getDivSuggestionId=function(a){return a.split(" ").join("-")},a.getTitle=function(a){return a.name_raw?a.name_raw:a.name},a.suggestionClicked=function(b,c){b.preventDefault(),a.$emit("rrSuggestionClicked",c)}}],templateUrl:"templates/suggestions.html"}}]),e.filter("rrCurrency",["$filter","rrConfig",function(a,b){var c={AED:[2,"dh","د.إ."],ALL:[0,"Lek","Lek"],AUD:[2,"$","AU$"],BDT:[2,"৳","Tk"],BGN:[2,"lev","lev"],BRL:[2,"R$","R$"],CAD:[2,"$","C$"],CDF:[2,"FrCD","CDF"],CHF:[2,"CHF","CHF"],CLP:[0,"$","CL$"],CNY:[2,"¥","RMB¥"],COP:[0,"$","COL$"],CRC:[0,"₡","CR₡"],CZK:[50,"Kč","Kč"],DKK:[18,"kr","kr"],DOP:[2,"$","RD$"],EGP:[2,"£","LE"],ETB:[2,"Birr","Birr"],EUR:[2,"€","€"],GBP:[2,"£","GB£"],HKD:[2,"$","HK$"],HRK:[2,"kn","kn"],HUF:[0,"Ft","Ft"],IDR:[0,"Rp","Rp"],ILS:[2,"₪","IL₪"],INR:[2,"₹","Rs"],IRR:[0,"Rial","IRR"],ISK:[0,"kr","kr"],JMD:[2,"$","JA$"],JPY:[0,"¥","JP¥"],KRW:[0,"₩","KR₩"],LKR:[2,"Rs","SLRs"],LTL:[2,"Lt","Lt"],MNT:[0,"₮","MN₮"],MVR:[2,"Rf","MVR"],MXN:[2,"$","Mex$"],MYR:[2,"RM","RM"],NOK:[50,"kr","NOkr"],PAB:[2,"B/.","B/."],PEN:[2,"S/.","S/."],PHP:[2,"₱","Php"],PKR:[0,"Rs","PKRs."],PLN:[50,"zł","zł"],RON:[2,"RON","RON"],RSD:[0,"din","RSD"],RUB:[50,"руб.","руб."],SAR:[2,"Rial","Rial"],SEK:[2,"kr","kr"],SGD:[2,"$","S$"],THB:[2,"฿","THB"],TRY:[2,"TL","YTL"],TWD:[2,"NT$","NT$"],TZS:[0,"TSh","TSh"],UAH:[2,"₴","UAH"],USD:[2,"$","US$"],UYU:[2,"$","$U"],VND:[0,"₫","VN₫"],YER:[0,"Rial","Rial"],ZAR:[2,"R","ZAR"]};return function(d,e){var f=c[e]||c[b.defaultCurrency]||c.EUR,g=a("number")(parseFloat(d)/100,7&f[0]),h=0===(32&f[0])?"":" ",i=0===(16&f[0]),j=f[b.currencySymbol||1];return i?j+h+g:g+h+j}}]),e.config(["$translateProvider",function(a){a.translations("en",{SEARCHBOX_PLACEHOLDER:"What are you looking for?",SPELLCHECKED:'Results for "{{spellchecked}}"',RESULTS_FOUND:"Found {{results}} results",RESULTS_NORESULTS:'Sorry, we could not find results for "{{query}}"',RESULTS_SUGGESTION:"We found {{results}} for {{suggestion}}:",RESULTS_SPELLCHECKED:'No results found for search <span class="rr-spellcheck-bold">{{query}}</span> but we found results for search <span class="rr-spellcheck-bold">{{spellchecked}}</span>',LOADING:"Loading...",FACETS_AVAILABLE:"Available facets:",FACETS_SELECTED:"Selected facets:",FACETS_SHOW_MORE:"+ show more",FACETS_SHOW_LESS:"- show less",RESULTS_WE_RECOMMEND:"We recommend",CLOSE:"Close",FACETS_REFINE_BY:"Refine by :",FACET_TITLE:{COLOUR_FACET:"Colour",CATEGORY_0_FACET:"Category",BRAND_FACET:"Brand",CATEGORIES_FACET:"Category"},TRY_AGAIN:"Try again!",MAKE_SURE:"Make sure the text is correctly written  or try less specific search terms.",SHOW_MORE:"show more"})}]),e.config(["$translateProvider",function(a){a.translations("es",{SEARCHBOX_PLACEHOLDER:"Qué estás buscando?",SPELLCHECKED:'Resultados para "{{spellchecked}}"',RESULTS_FOUND:"Encontrados {{results}} resultados",RESULTS_NORESULTS:'Lo siento, no hemos encontrado ningun resultado para "{{query}}"',RESULTS_SUGGESTION:"Hemos encontrado {{results}} resultados para {{suggestion}}:",LOADING:"Cargando...",FACETS_AVAILABLE:"Filtros disponibles:",FACETS_SELECTED:"Filtros seleccionados:",FACETS_SHOW_MORE:"+ ver más",FACETS_SHOW_LESS:"- ver menos",CLOSE:"Cerrar",RESULTS_WE_RECOMMEND:"Nosotros recomendamos: ",FACETS_REFINE_BY:"Refinar por :",FACET_TITLE:{COLOUR_FACET:"Color",CATEGORY_0_FACET:"Categoria"},TRY_AGAIN:"Try again!",MAKE_SURE:"Make sure the text is correctly written  or try less specific search terms.",SHOW_MORE:"show more"})}]),e.factory("rrMotionService",["rrConfig",function(b){var c=function(){var b=a.element(".rr-result").first().outerWidth(!0),c=a.element(".rr-result").first().outerHeight(!0);return{height:c,width:b}},d=function(a,c){var d=Math.floor(a/c);return Math.min(d,b.maxArticlesPerRow||d)},e=function(b,e){var f=c(),g=a.element(b).width(),h=d(g,f.width),i=(g-h*f.width)/2,j=Math.floor(e/h),k=e%h,l=k*f.width+i+"px",m=j*f.height+"px";return"translate3d("+l+","+m+",0px) scale3d(1,1,1)"},f=function(b,e){var f=c(),g=a.element(b).width(),h=d(g,f.width),i=Math.ceil(e/h),j=i*f.height+"px";return j};return{getArticleDimensions:c,getArticlesPerRow:d,getTranslate:e,getListHeight:f}}]),e.factory("rrSearchService",["$http","$q","$document","$log","rrTrackService","rrConfig",function(b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r=function(){h=[],i=-1,j=null,k=[],l=[],m=[],n=0,o=null,p=[],q=[]};r();var s=null,t=function(t,u){u&&null!==s&&s.isLoading()&&s.cancel();var v={facet:u?t.facets||[]:p,filter:u?t.filters||[]:q,lang:g.lang,placements:g.searchPlacement||"invalidPlacement",query:u?t.query:o,rows:g.pageRows,session:t.commonObject.sessionId||"invalidSession",start:u?0:h.length},w={};t.commonObject.userId&&(w.user=t.commonObject.userId),t.commonObject.channel&&(w.channel=t.commonObject.channel),t.commonObject.regionId&&(w.region=t.commonObject.regionId),d.referrer&&(w.pref=d.referrer),t.rcs&&(w.rcs=t.rcs),e.info("[SEARCH]",v);var x=!0,y=c.defer(),z=b.jsonp(g.url+"/service/search/"+g.apiKey,{responseType:"json",timeout:y.promise,params:a.merge({},v,w,{callback:"JSON_CALLBACK"})});return z.success(function(b){var c;if(a.isObject(b)){u&&(r(),o=t.query||null,p=t.facets||[],q=t.filters||[]),n+=1,a.forEach(b.placements||[],function(a){a.placement===g.searchPlacement&&(c=a)});var d=a.forEach(c.docs||[],function(b){a.extend(b,{_query:o,_page:n})});h=h.concat(d),l=c.facets||[],m=c.filters||[],k=c.suggestions||[],j=c.spellchecked||null,i=c.numFound||0,f.trackSearch(o,i,n,w)}}),z.error(function(a,b){e.error("error",b,a)}),z["finally"](function(){x=!1}),s={isLoading:function(){return x},cancel:function(){y.resolve()}},z},u=function(b){if(!a.isObject(b)||!b.query)throw new Error("Missing query parameter to newSearch()");t(b,!0)},v=function(){!o||n*g.pageRows>=i||t({},!1)};return{data:function(){return{results:h,totalResults:i,spellchecked:j,suggestions:k,availableFacets:l}},isLoading:function(){return null!==s&&s.isLoading()},newSearch:u,nextPage:v,clear:r}}]),e.factory("rrTrackService",["$http","$q","$document","$log","rrConfig",function(b,c,d,e,f){var g=function(d,g,h){var i=c.defer(),j=b.jsonp(f.url+"/service/track/"+d+"/"+f.apiKey,{responseType:"json",timeout:i.promise,params:a.merge({},g,h,{callback:"JSON_CALLBACK"})});j.success(function(a){}),j.error(function(a,b){e.error("[I think the API is not yet setup]",a,b)})},h=function(a,b,c,e){g("search",{query:a,numFound:b,page:c,pref:d.referrer},e||{})},i=function(a,b,c,d,e){g("click",{p:a,s:d,query:b,page:c,redirect:!1},e||{})},j=function(a,b,c,d,e){g("conversion",{productId:a,s:d,query:b,page:c,follow:!1},e||{})};return{trackSearch:h,trackClick:i,trackConversion:j}}]),a.module("sbTemplates",[]).run(["$templateCache",function(a){a.put("templates/bannerItem.html",'<a ng-href={{banner.url}} title={{banner.name}}><img ng-src={{banner.image}} title={{banner.name}} alt="{{banner.name}}"></a>'),a.put("templates/banners.html",'<div id=rr-banners><div ng-repeat="banner in banners"><rr-banner-item ng-animate="\'animate\'" position={{$index}} ng-repeat="banner in banners" rr-position=$index banner=::banner last-page-element></div></div>'),a.put("templates/categoryFacet.html",'<nav class=rr-nav-facet><div class="rr-header-facet closed" ng-click="$parent.showFacet($event, facet.facet)">{{(\'FACET_TITLE.\' + (facet.facet | uppercase)) | translate}}</div><div class=rr-facet id=rr-facet-{{facet.facet}}><ul class=rr-facet-list id=rr-ul-{{facet.facet}}><rr-category-item ng-repeat="value in facet.values" facet=value></rr-category-item></ul></div></nav>'),a.put("templates/categoryItem.html",'<script type=text/ng-template id=subcategory.tpl><a ng-click="addDelFilter(facet, true)">{{facet.value}} <span class="rr-facet-count">({{facet.count}})</span></a>\n	\n	<ul class="rr-sub-facet" ng-if="facet.values">\n		<li ng-repeat="facet in facet.values" ng-class="{ \'rr-hl\' : facet.selected == true}" ng-include="\'subcategory.tpl\'"></li>\n	</ul></script><li ng-class="{ \'rr-hl\' : facet.selected == true}"><a ng-click="addDelFilter(facet, true)">{{facet.value}} <span class=rr-facet-count>({{facet.count}})</span></a><ul class=rr-sub-facet ng-if=facet.values><li ng-repeat="facet in facet.values" ng-class="{ \'rr-hl\' : facet.selected == true}" ng-include="\'subcategory.tpl\'"></li></ul></li>'),a.put("templates/facet.html",'<nav class=rr-nav-facet><div class="rr-header-facet closed" ng-click="$parent.showFacet($event, facet.facet)">{{(\'FACET_TITLE.\' + (facet.facet | uppercase)) | translate}}</div><div class=rr-facet id=rr-facet-{{facet.facet}}><ul class=rr-facet-list id=rr-ul-{{facet.facet}}><li class=rr-param-{{facet.facet}} ng-repeat="value in facet.values" ng-class="{ \'rr-hl\' : value.selected == true}"><a ng-if=standard_facet(value) ng-click=addDelFilter(value)>{{value.value}} <span class=rr-facet-count>({{value.count}})</span></a> <a ng-if=order_facet(value) ng-click=addDelFilter(value)>{{(\'FACET_TITLE.\' + (value.value | uppercase)) | translate}}</a></li><li class=rr-param-{{facet.facet}} ng-repeat="value in facet.ranges" ng-class="{ \'rr-hl\' : value.selected == true}"><a ng-click=addDelFilter(value)>{{value.start | rrCurrency:result.currency}} - {{value.end | rrCurrency:result.currency}} <span class=rr-facet-count>({{value.count}})</span></a></li></ul></div></nav>'),a.put("templates/facets.html",'<div class=rr-refine ng-click=showFacets()><span translate=FACETS_REFINE_BY></span></div><div id=rr-facets ng-if="availableFacets.length > 0"><div class=rr-current-facets ng-if="selectedFilters.length > 0"><div class=rr-facets-box-title translate=FACETS_SELECTED></div><nav class=rr-nav-facet ng-repeat="filter in selectedFilters"><div class="rr-header-facet current" ng-click=removeFilter(filter)>{{filterValue(filter)}}</div></nav></div><div class=rr-facets-categories><rr-category-facet ng-repeat="facet in availableFacets | filter: categoriesFilter track by facet.facet" facet=facet></rr-category-facet></div><div class=rr-facets-all><rr-facet ng-repeat="facet in availableFacets | filter: facetsFilter track by facet.facet" facet=facet></rr-facet><rr-price-facet ng-if=showPriceFacet price-stats=priceStats></rr-price-facet></div></div>'),a.put("templates/noResults.html","<div id=rr-no-results><div><span translate=RESULTS_NORESULTS translate-value-query={{query}}></span></div><div class=rr-try>{{'TRY_AGAIN' | translate}}</div><div>{{'MAKE_SURE' | translate}}</div></div>"),a.put("templates/priceFacet.html","<nav class=rr-nav-facet><div class=\"rr-header-facet closed\" ng-click=\"$parent.showFacet($event, 'price_facet')\">{{'FACET_TITLE.PRICE_FACET' | translate}}</div><div class=rr-facet id=rr-facet-price_facet><data-range-slider data-floor={{price_min_range}} data-ceiling={{price_max_range}} data-ng-model-low=price_min data-ng-model-high=price_max></data-range-slider><div class=rr-price-count><span class=rr-price-min>{{price_min | rrCurrency:result.currency}}</span> <span class=rr-price-max>{{price_max | rrCurrency:result.currency}}</span></div><div class=rr-price-clean><span ng-click=cleanPrice()>{{'FACETS_CLEAN_PRICE' | translate}}</span></div></div></nav>"),a.put("templates/promotedItem.html",'<div class=rr-result><div class=rr-result-image ng-if="promoted.image != undefined"><a ng-href={{promoted.url}}><img alt={{promoted.name}} ng-src="{{promoted.image}}"></a></div><div class=rr-result-name><a ng-href={{promoted.url}}>{{promoted.name}}</a></div></div>'),a.put("templates/promoteds.html","<div class=rr-text-recomended>{{'RESULTS_WE_RECOMMEND' | translate}}</div><div id=rr-promoteds><rr-promoted-item ng-animate=\"'animate'\" class=rr-article position={{$index}} ng-repeat=\"promoted in promoteds\" rr-position=$index promoted=::promoted last-page-element></div>"),a.put("templates/result.html",'<div class=rr-result><div class=rr-result-image><a ng-href={{result.url}}><img alt={{result.name}} ng-src={{result.imageId}} ng-click="resultClicked($event)"></a></div><div class=rr-result-name><a ng-href={{result.url}} ng-click=resultClicked($event)>{{result.name}}</a></div><div class=rr-result-price>{{result.priceCents | rrCurrency:result.currency}}</div></div>'),a.put("templates/results.html",'<div id=rr-before-results><div class=rr-total-results><span translate=RESULTS_FOUND translate-value-results={{totalResults}}></span></div><rr-facets available-facets=availableFacets selected-filters=selectedFilters price-stats=priceStats></rr-facets></div><div id=rr-results infinite-scroll infinite-scroll-enabled="false && totalResults > results.length && !isLoading"><rr-banners banners=banners ng-if=showBanners()></rr-banners><rr-promoteds promoteds=promoteds ng-if=showPromoteds()></rr-promoteds><rr-suggestions query=query suggestions=suggestions ng-if=showSuggestions()></rr-suggestions><rr-spellcheck spellchecked=spellchecked query=query ng-if=showSpellcheck()></rr-spellcheck><rr-no-results query=query ng-if=showNoResults()></rr-no-results><div id=rr-articles><rr-result ng-animate="\'animate\'" class=rr-article position={{$index}} ng-repeat="result in results track by result.id" rr-position=$index rr-result=::result rr-last-page-element></div></div>'),a.put("templates/root.html",'<div id=rr-searchField class=opened ng-controller=RichRelevanceSearchController><div id=rr-header><rr-searchbox query=query on-change=resetFilters()></rr-searchbox></div><div id=rr-body ng-if="totalResults >= 0"><rr-results query=query results=results suggestions=suggestions spellchecked=spellchecked toptrends=topTrends banners=banners promoteds=promoteds total-results=totalResults available-facets=availableFacets selected-filters=selectedFilters price-stats=priceStats load-more=loadMore()></rr-results></div></div>'),a.put("templates/scrollButtom.html",'<div class=rr-scroll-box in-view="$inview && $inviewpart == \'both\' && !isLoading && loadMore()" ng-if="results.length < totalResults"><div class=rr-scroll-prompt ng-if=!isLoading><span translate=SCROLL_FOR_MORE></span> <a ng-click=loadMore() translate=SCROLL_CLICK></a></div><div class=rr-scroll-prompt ng-if=isLoading><span translate=SCROLL_LOADING></span></div></div>'),a.put("templates/searchbox.html",'<div class=left id=rr-logo><div class=rr-img-logo></div></div><div class=left id=rr-searchbox><input type=search id=rr-searchField-input placeholder={{inputPlaceholder}} ng-model=query ng-model-options=inputOptions autofocus autocomplete="off"> <span class=rr-loading ng-if=isLoading translate=LOADING></span></div><div class=left id=rr-close-button><a class=rr-closed><span class=rr-close-text translate=CLOSE></span></a></div>'),a.put("templates/spellcheck.html","<div id=rr-spellcheck><span translate=RESULTS_SPELLCHECKED translate-value-query={{query}} translate-value-spellchecked={{spellchecked}}></span></div>"),a.put("templates/suggestions.html",'<div id=rr-no-results-suggestions><span translate=RESULTS_SPELLCHECKED translate-value-query={{query}}></span></div><div id=rr-suggestions><div class=rr-suggestions id=rr-suggestion-{{getDivSuggestionId(suggestion.suggestion)}} ng-repeat="suggestion in suggestions"><div class=rr-termSuggestion><span translate=RESULTS_SUGGESTION translate-value-results={{suggestion.numFound}} translate-value-suggestion={{suggestion.suggestion}}></span> <a class=rr-see-more ng-click="suggestionClicked($event, suggestion.suggestion)" item={{getDivSuggestionId(suggestion.suggestion)}}>({{\'SHOW_MORE\' | translate }})</a></div><div class=rr-suggestion-list id=rr-suggestion-{{getDivSuggestionId(suggestion.suggestion)}}-items><rr-result ng-animate="\'animate\'" class=rr-article position={{$index}} ng-repeat="suggestion in suggestion.docs" rr-position=$index rr-result=::suggestion rr-last-page-element></div></div></div>')}])}(window.angular,window,document);